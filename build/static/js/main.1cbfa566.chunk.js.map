{"version":3,"sources":["common.js","functions.js","view/nickname.js","component/game-options.js","view/game.js","component/router.js","component/document-title.js","component/header.js","component/intl-provider-wrapper.js","app.js","index.js","../node_modules/react-intl/locale-data sync /^/.*$"],"names":["DEV_ENV","document","location","host","MODE_NA","MODE_PRACTICE","MODE_AI_VERSUS","MIN_COLUMNS","SQUARE_WIDTH","initialGameState","mode","columns","history","squares","Array","fill","cols","xIsNext","stepNumber","nickname","calculateWinner","i","length","mark","indexes","fitsInRow","fitsInCol","fitsInDownDiagonal","fitsInUpDiagonal","push","apply","winner","x","scoreMove","index","hFactor","arguments","undefined","slide","optionsForward","ownForward","ownInARowForward","opponentInARowForward","opponentRowForwardSpace","spaceInARowForward","optionsBackward","ownBackward","ownInARowBackward","opponentInARowBackward","opponentRowBackwardSpace","spaceInARowBackward","score","opponentMark","j","vars","getAIMove","state","depth","thisStep","thisMark","middleGround","Math","floor","middleGroundBegin","middleGroundEnd","thisScore","bestMove","console","log","Nickname","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","session","JSON","parse","localStorage","getItem","gameState","inherits","createClass","key","value","event","setState","target","handleNickname","href","window","addEventListener","saveMainStateToSessionStorage","bind","removeEventListener","setItem","stringify","_this2","react_default","a","createElement","className","index_es","id","defaultMessage","text","onChange","saveNickname","type","placeholder","disabled","onClick","useNickname","removeNickname","React","Component","GameOptions","action","Square","title","Board","resizeBoard","assertThisInitialized","rows","cells","highlite","indexOf","renderSquare","minSize","maxSize","react_resizable","onResize","lockAspectRatio","width","height","minConstraints","maxConstraints","Game","_React$Component2","_this3","saveGameStateToSessionStorage","e","data","size","oldWidth","newSize","playerMove","slice","_calculateWinner","concat","move","assign","addMarker","step","handleMode","_this4","current","_calculateWinner2","status","values","player","steps","undoDisabled","redoDisabled","game_Board","jumpTo","game_options_GameOptions","changeMode","Router","react_router_dom","react_router","exact","path","render","view","nickname_Nickname","game_Game","DocumentTitle","message","modes","Header","lang","preventDefault","locale","changeLang","rel","pathname","goBack","allMessages","fi","fiMessages","IntlProviderWrapper","messages","localeData","require","addLocaleData","setMode","setNickname","document_title_DocumentTitle","header_Header","setLocale","socket","socketIOClient","on","emit","my","App","intl_provider_wrapper_IntlProviderWrapper","ReactDOM","app_App","getElementById","map","./","./af","./af.js","./agq","./agq.js","./ak","./ak.js","./am","./am.js","./ar","./ar.js","./ars","./ars.js","./as","./as.js","./asa","./asa.js","./ast","./ast.js","./az","./az.js","./bas","./bas.js","./be","./be.js","./bem","./bem.js","./bez","./bez.js","./bg","./bg.js","./bh","./bh.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./brx","./brx.js","./bs","./bs.js","./ca","./ca.js","./ccp","./ccp.js","./ce","./ce.js","./cgg","./cgg.js","./chr","./chr.js","./ckb","./ckb.js","./cs","./cs.js","./cu","./cu.js","./cy","./cy.js","./da","./da.js","./dav","./dav.js","./de","./de.js","./dje","./dje.js","./dsb","./dsb.js","./dua","./dua.js","./dv","./dv.js","./dyo","./dyo.js","./dz","./dz.js","./ebu","./ebu.js","./ee","./ee.js","./el","./el.js","./en","./en.js","./eo","./eo.js","./es","./es.js","./et","./et.js","./eu","./eu.js","./ewo","./ewo.js","./fa","./fa.js","./ff","./ff.js","./fi","./fi.js","./fil","./fil.js","./fo","./fo.js","./fr","./fr.js","./fur","./fur.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gsw","./gsw.js","./gu","./gu.js","./guw","./guw.js","./guz","./guz.js","./gv","./gv.js","./ha","./ha.js","./haw","./haw.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hsb","./hsb.js","./hu","./hu.js","./hy","./hy.js","./ia","./ia.js","./id","./id.js","./ig","./ig.js","./ii","./ii.js","./in","./in.js","./index","./index.js","./io","./io.js","./is","./is.js","./it","./it.js","./iu","./iu.js","./iw","./iw.js","./ja","./ja.js","./jbo","./jbo.js","./jgo","./jgo.js","./ji","./ji.js","./jmc","./jmc.js","./jv","./jv.js","./jw","./jw.js","./ka","./ka.js","./kab","./kab.js","./kaj","./kaj.js","./kam","./kam.js","./kcg","./kcg.js","./kde","./kde.js","./kea","./kea.js","./khq","./khq.js","./ki","./ki.js","./kk","./kk.js","./kkj","./kkj.js","./kl","./kl.js","./kln","./kln.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./kok","./kok.js","./ks","./ks.js","./ksb","./ksb.js","./ksf","./ksf.js","./ksh","./ksh.js","./ku","./ku.js","./kw","./kw.js","./ky","./ky.js","./lag","./lag.js","./lb","./lb.js","./lg","./lg.js","./lkt","./lkt.js","./ln","./ln.js","./lo","./lo.js","./lrc","./lrc.js","./lt","./lt.js","./lu","./lu.js","./luo","./luo.js","./luy","./luy.js","./lv","./lv.js","./mas","./mas.js","./mer","./mer.js","./mfe","./mfe.js","./mg","./mg.js","./mgh","./mgh.js","./mgo","./mgo.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mo","./mo.js","./mr","./mr.js","./ms","./ms.js","./mt","./mt.js","./mua","./mua.js","./my","./my.js","./mzn","./mzn.js","./nah","./nah.js","./naq","./naq.js","./nb","./nb.js","./nd","./nd.js","./nds","./nds.js","./ne","./ne.js","./nl","./nl.js","./nmg","./nmg.js","./nn","./nn.js","./nnh","./nnh.js","./no","./no.js","./nqo","./nqo.js","./nr","./nr.js","./nso","./nso.js","./nus","./nus.js","./ny","./ny.js","./nyn","./nyn.js","./om","./om.js","./or","./or.js","./os","./os.js","./pa","./pa.js","./pap","./pap.js","./pl","./pl.js","./prg","./prg.js","./ps","./ps.js","./pt","./pt.js","./qu","./qu.js","./rm","./rm.js","./rn","./rn.js","./ro","./ro.js","./rof","./rof.js","./ru","./ru.js","./rw","./rw.js","./rwk","./rwk.js","./sah","./sah.js","./saq","./saq.js","./sbp","./sbp.js","./sc","./sc.js","./scn","./scn.js","./sd","./sd.js","./sdh","./sdh.js","./se","./se.js","./seh","./seh.js","./ses","./ses.js","./sg","./sg.js","./sh","./sh.js","./shi","./shi.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sma","./sma.js","./smi","./smi.js","./smj","./smj.js","./smn","./smn.js","./sms","./sms.js","./sn","./sn.js","./so","./so.js","./sq","./sq.js","./sr","./sr.js","./ss","./ss.js","./ssy","./ssy.js","./st","./st.js","./sv","./sv.js","./sw","./sw.js","./syr","./syr.js","./ta","./ta.js","./te","./te.js","./teo","./teo.js","./tg","./tg.js","./th","./th.js","./ti","./ti.js","./tig","./tig.js","./tk","./tk.js","./tl","./tl.js","./tn","./tn.js","./to","./to.js","./tr","./tr.js","./ts","./ts.js","./tt","./tt.js","./twq","./twq.js","./tzm","./tzm.js","./ug","./ug.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz.js","./vai","./vai.js","./ve","./ve.js","./vi","./vi.js","./vo","./vo.js","./vun","./vun.js","./wa","./wa.js","./wae","./wae.js","./wo","./wo.js","./xh","./xh.js","./xog","./xog.js","./yav","./yav.js","./yi","./yi.js","./yo","./yo.js","./yue","./yue.js","./zgh","./zgh.js","./zh","./zh.js","./zu","./zu.js","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","keys","resolve","module","exports"],"mappings":"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CAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,QAAA,GACAC,WAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,QAAA,GACAC,WAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,GACAC,WAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,KAIA,SAAAC,EAAAC,GACA,IAAA3lB,EAAA4lB,EAAAD,GACA,OAAAE,EAAA7lB,GAEA,SAAA4lB,EAAAD,GACA,IAAA3lB,EAAA4G,EAAA+e,GACA,KAAA3lB,EAAA,IACA,IAAAsC,EAAA,IAAAwjB,MAAA,uBAAAH,EAAA,KAEA,MADArjB,EAAAyjB,KAAA,mBACAzjB,EAEA,OAAAtC,EAEA0lB,EAAAM,KAAA,WACA,OAAAloB,OAAAkoB,KAAApf,IAEA8e,EAAAO,QAAAL,EACAM,EAAAC,QAAAT,EACAA,EAAA1lB,GAAA","file":"static/js/main.1cbfa566.chunk.js","sourcesContent":["export const DEV_ENV = (document.location.host === 'localhost:3000');\r\n\r\nexport const MODE_NA = 0;\r\nexport const MODE_PRACTICE = 1;\r\nexport const MODE_VERSUS_AI = 2;\r\nexport const MODE_AI_VERSUS = 3;\r\n// export const MODE_VERSUS_HUMAN = 4;\r\n\r\nexport const MIN_COLUMNS = 15;\r\nexport const MAX_COLUMNS = 25;\r\nexport const SQUARE_WIDTH = 34;\r\n","import { MODE_AI_VERSUS, DEV_ENV } from \"./common\";\r\n\r\n/*** Functions.js ***/\r\n\r\nexport function initialGameState(mode, columns) {\r\n\treturn {\r\n\t\thistory: [{ squares: Array(columns * columns).fill(null) }],\r\n\t\tcols: columns,\r\n\t\txIsNext: (mode === MODE_AI_VERSUS ? false : true),\r\n\t\tstepNumber: 0,\r\n\t\tmode: mode,\r\n\t\tnickname: \"\"\r\n\t};\r\n}\r\n\r\nexport function calculateWinner(squares, cols) {\r\n\r\n  for (let i = 0; i < squares.length; i++) {\r\n    let mark = squares[i];\r\n    if (!mark) continue;\r\n\r\n\t\tlet indexes = [];\r\n    let startOfRow = (i === 0 || (i % cols) === 0);\r\n    let fitsInRow = startOfRow || ((i + 1) % cols !== 0 && (i + 2) % cols !== 0 && (i + 3) % cols !== 0 && (i + 4) % cols !== 0);\r\n    let fitsInCol = i + cols * 4 < squares.length;\r\n    let fitsInDownDiagonal = i + cols * 4 + 4 < squares.length;\r\n    let fitsInUpDiagonal = i + cols * 4 - 4 < squares.length;\r\n\r\n    if (fitsInRow && squares[i + 1] === mark && squares[i + 2] === mark && squares[i + 3] === mark && squares[i + 4] === mark) {\r\n    \t[].push.apply(indexes, [i, (i + 1), (i + 2), (i + 3), (i + 4)]);\r\n      return { winner: mark, indexes: indexes };\r\n\t\t}\r\n\r\n\t\tif (fitsInCol && squares[i + cols] === mark && squares[i + cols * 2] === mark && squares[i + cols * 3] === mark && squares[i + cols * 4] === mark) {\r\n\t\t\t[].push.apply(indexes, [i, (i + cols * 1), (i + cols * 2), (i + cols * 3), (i + cols * 4)]);\r\n      return { winner: mark, indexes: indexes };\r\n\t\t}\r\n\r\n    if (fitsInDownDiagonal) {\r\n      for (let x = 1; x < 5; x++) {\r\n        if (squares[i + cols * x + x] !== mark) { break; }\r\n        if ((i + cols * x + x) % cols === 0) { break; }\r\n        if (x === 4) {\r\n        \t[].push.apply(indexes, [i, (i + cols * 1 + 1), (i + cols * 2 + 2), (i + cols * 3 + 3), (i + cols * 4 + 4)]);\r\n        \treturn { winner: mark, indexes: indexes };\r\n        }\r\n      }\r\n    }\r\n    if (fitsInUpDiagonal) {\r\n      for (let x = 1; x < 5; x++) {\r\n        if (squares[i + cols * x - x] !== mark) { break; }\r\n        if ((i + cols * x - x) % cols === 0 && x !== 4) { break; }\r\n        if (x === 4) {\r\n        \t[].push.apply(indexes, [i, (i + cols * 1 - 1), (i + cols * 2 - 2), (i + cols * 3 - 3), (i + cols * 4 - 4)]);\r\n        \treturn { winner: mark, indexes: indexes };\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return { winner: null, indexes: [] };\r\n}\r\n\r\nfunction scoreMove(index, squares, cols, mark, hFactor = 1, slide = 0) {\r\n\r\n\tlet optionsForward = 0;\r\n\tlet ownForward = 0;\r\n\tlet ownInARowForward = 0;\r\n\tlet opponentInARowForward = 0;\r\n\tlet opponentRowForwardSpace = 0;\r\n\tlet spaceInARowForward = 0;\r\n\tlet optionsBackward = 0;\r\n\tlet ownBackward = 0;\r\n\tlet ownInARowBackward = 0;\r\n\tlet opponentInARowBackward = 0;\r\n\tlet opponentRowBackwardSpace = 0;\r\n\tlet spaceInARowBackward = 0;\r\n\tlet score = 0;\r\n\r\n\tlet opponentMark = (mark === 'X' ? 'O' : 'X');\r\n\r\n\tfor (let j = 1; j < cols; j++) {\r\n\t\tlet vars = hFactor * j + slide * j;\r\n\t\tif (hFactor === 1 && (index + j) % cols === 0) { // row changed\r\n\t\t\tbreak;\r\n\t\t} else\tif (hFactor > 1 && (index + vars) >= squares.length) { // out of board\r\n\t\t\tbreak;\r\n\t\t} else if (hFactor > 1 && slide && (index + vars) % cols === 0) { // out of bounds\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (squares[index + vars] === mark && !opponentInARowForward) { // next is own\r\n\t\t\tif (ownInARowForward + 1 === j) {\r\n\t\t\t\townInARowForward++;\r\n\t\t\t}\r\n\t\t\townForward++;\r\n\t\t} else if (squares[index + vars] === opponentMark) { // next is opponents mark\r\n\t\t\tif (opponentInARowForward + 1 === j) {\r\n\t\t\t\topponentInARowForward++;\r\n\t\t\t}\r\n\t\t} else if (squares[index + vars] === null) { // next is empty\r\n\t\t\tif (!spaceInARowForward && !opponentInARowForward) { spaceInARowForward++; }\r\n\t\t\tif (opponentInARowForward === j - 1) { opponentRowForwardSpace++ }\r\n\t\t}\r\n\t\tif (!opponentInARowForward) { optionsForward++; }\r\n\t}\r\n\r\n\tfor (let j = 1; j < cols; j++) {\r\n\t\tlet vars = hFactor * j + slide * j;\r\n\t\tif (hFactor === 1 && (index - j + 1) % cols === 0) { // row changed\r\n\t\t\tbreak;\r\n\t\t} else\tif (hFactor > 1 && (index - vars) < 0) { // out of board\r\n\t\t\tbreak;\r\n\t\t}\telse\tif (hFactor > 1 && slide && (index - vars - hFactor + 1) % cols === 0) { // out of bounds\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (squares[index - vars] === mark && !opponentInARowBackward) { // previous is own\r\n\t\t\tif (ownInARowBackward + 1 === j) { ownInARowBackward++; }\r\n\t\t\townBackward++;\r\n\t\t} else if (squares[index - vars] === opponentMark) { // previous is opponents mark\r\n\t\t\tif (opponentInARowBackward + 1 === j) {\r\n\t\t\t\topponentInARowBackward++;\r\n\t\t\t}\r\n\t\t} else if (squares[index - vars] === null) { // previous is empty\r\n\t\t\tif (!spaceInARowBackward && !opponentInARowBackward) {\tspaceInARowBackward++; }\r\n\t\t\tif (opponentInARowBackward === j - 1) { opponentRowBackwardSpace++ }\r\n\t\t}\r\n\t\tif (!opponentInARowBackward) optionsBackward++;\r\n\t}\r\n\r\n\tif (ownInARowForward === 4 || ownInARowBackward === 4) {\r\n\t\treturn 200;\r\n\t}\r\n\r\n\tif (optionsBackward + optionsForward >= 4 || opponentInARowForward + opponentInARowBackward >= 3) {\r\n\r\n\t\tif (optionsForward >= (cols / 2) - 1 && optionsBackward >= (cols / 2) - 1) {\r\n\t\t\tscore += 1;\r\n\t\t}\r\n\r\n\t\tif (ownInARowForward && optionsForward > ownInARowForward) {\r\n\t\t\tscore += 2;\r\n\t\t\tif (ownForward > ownInARowForward) {\r\n\t\t\t\tscore++;\r\n\t\t\t}\r\n\t\t\tif (ownInARowForward >= 3) {\r\n\t\t\t\tscore += 5;\r\n\t\t\t\tif (optionsBackward && optionsForward) {\r\n\t\t\t\t\tscore += 6;\r\n\t\t\t\t}\r\n\t\t\t\tif (spaceInARowBackward + spaceInARowForward > 1) {\r\n\t\t\t\t\tscore += 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (ownInARowBackward && optionsBackward > ownInARowBackward) {\r\n\t\t\tscore += 2;\r\n\t\t\tif (ownBackward > ownInARowBackward) {\r\n\t\t\t\tscore += 1;\r\n\t\t\t}\r\n\t\t\tif (ownInARowBackward >= 3) {\r\n\t\t\t\tscore += 5;\r\n\t\t\t\tif (optionsBackward && optionsForward) {\r\n\t\t\t\t\tscore += 6;\r\n\t\t\t\t}\r\n\t\t\t\tif (spaceInARowBackward + spaceInARowForward > 1) {\r\n\t\t\t\t\tscore += 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (ownInARowBackward + ownInARowForward >= 2) {\r\n\t\t\tscore += 2;\r\n\t\t\tif (spaceInARowBackward + spaceInARowForward > 1) {\r\n\t\t\t\tscore += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (opponentInARowForward >= 2) {\r\n\t\t\tif (opponentRowForwardSpace) {\r\n\t\t\t\tscore += 1;\r\n\t\t\t}\r\n\t\t\tif (opponentRowBackwardSpace) {\r\n\t\t\t\tscore += 1;\r\n\t\t\t}\r\n\t\t\tif (opponentInARowForward >= 3) {\r\n\t\t\t\tscore += 3;\r\n\t\t\t\tif (opponentRowForwardSpace) {\r\n\t\t\t\t\tscore += 5;\r\n\t\t\t\t}\r\n\t\t\t\tif (opponentInARowForward >= 4) {\r\n\t\t\t\t\tscore += 20;\r\n\t\t\t\t}\r\n\t\t\t\tif (opponentInARowBackward) {\r\n\t\t\t\t\tscore += 10;\r\n\t\t\t\t}\r\n\t\t\t\tif (opponentRowForwardSpace || opponentRowBackwardSpace) {\r\n\t\t\t\t\tscore += 10;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (opponentInARowBackward) {\r\n\t\t\t\tscore += 10;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (opponentInARowBackward >= 2) {\r\n\t\t\tif (opponentRowBackwardSpace) {\r\n\t\t\t\tscore += 1;\r\n\t\t\t}\r\n\t\t\tif (opponentRowForwardSpace) {\r\n\t\t\t\tscore += 1;\r\n\t\t\t}\r\n\t\t\tif (opponentInARowBackward >= 3) {\r\n\t\t\t\tscore+= 3;\r\n\t\t\t\tif (opponentRowBackwardSpace) {\r\n\t\t\t\t\tscore += 5;\r\n\t\t\t\t}\r\n\t\t\t\tif (opponentInARowBackward >= 4) {\r\n\t\t\t\t\tscore += 20;\r\n\t\t\t\t}\r\n\t\t\t\tif (opponentInARowForward) {\r\n\t\t\t\t\tscore += 10;\r\n\t\t\t\t}\r\n\t\t\t\tif (opponentRowForwardSpace || opponentRowBackwardSpace) {\r\n\t\t\t\t\tscore += 10;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (opponentInARowForward) {\r\n\t\t\t\tscore += 10;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (opponentInARowBackward && opponentInARowForward) {\r\n\t\t\tscore += 1;\r\n\t\t\tif (opponentInARowBackward + opponentInARowForward >= 3) {\r\n\t\t\t\tscore += 1;\r\n\t\t\t\tif (opponentRowBackwardSpace) {\r\n\t\t\t\t\tscore += 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (opponentRowForwardSpace) {\r\n\t\t\t\t\tscore += 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (opponentRowBackwardSpace || opponentRowForwardSpace) {\r\n\t\t\t\t\tscore += 6;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn score;\r\n}\r\n\r\nexport function getAIMove(state, squares, cols, depth = 0) {\r\n\r\n\tlet thisStep = state.stepNumber + depth;\r\n\tlet thisMark = state.xIsNext ? 'X' : 'O';\r\n\r\n\t// if (depth % 2 !== 0) {\r\n\t// \tthisMark = !state.xIsNext ? 'X' : 'O';\r\n\t// }\r\n\r\n\tlet middleGround = Math.floor(squares.length / 2);\r\n\tlet middleGroundBegin = middleGround - cols * 2;\r\n\tlet middleGroundEnd = middleGround + cols * 2;\r\n\tlet score = -100;\r\n\tlet thisScore = -100;\r\n\tlet bestMove = middleGround;\r\n\r\n\tfor (let i = 0; i < squares.length; i++) {\r\n\t\tif (squares[i]) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (thisStep < 5 && (i < middleGroundBegin || i > middleGroundEnd)){\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tsquares[i] = thisMark;\r\n\r\n\t\tthisScore = -100;\r\n\t\tthisScore += scoreMove(i, squares, cols, thisMark, 1, 0);\r\n\t\tthisScore += scoreMove(i, squares, cols, thisMark, cols, 0);\r\n\t\tthisScore += scoreMove(i, squares, cols, thisMark, cols, 1);\r\n\t\tthisScore += scoreMove(i, squares, cols, thisMark, cols, -1);\r\n\r\n\t\t// if (depth < 1) {\r\n\t\t// \tlet move = getAIMove(state, squares, cols, depth + 1);\r\n\t\t// \tthisScore = thisScore - moveScore;\r\n\t\t// }\r\n\r\n\t\tif (thisScore > score) {\r\n\t\t\tscore = thisScore;\r\n\t\t\tbestMove = i;\r\n\t\t\tif (DEV_ENV) { console.log(\"move:\", bestMove, \"score:\", score); }\r\n\t\t}\r\n\r\n\t\tsquares[i] = null;\r\n\t}\r\n\r\n\treturn bestMove;\r\n}\r\n","import React from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { MODE_PRACTICE, MIN_COLUMNS } from '../common';\r\nimport { initialGameState } from '../functions';\r\n\r\nexport class Nickname extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\t\tthis.state = initialGameState(MODE_PRACTICE, MIN_COLUMNS);\r\n\r\n    let session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n    if ('gameState' in session) {\r\n    \tthis.state = session.gameState;\r\n\t\t}\r\n  }\r\n\r\n  saveNickname(event) {\r\n  \tthis.setState({ nickname: event.target.value });\r\n  \tthis.props.handleNickname(event.target.value);\r\n  }\r\n\r\n  useNickname(event) {\r\n  \tif (this.state.nickname) {\r\n  \t\tdocument.location.href = \"/game\";\r\n  \t}\r\n  }\r\n\r\n  removeNickname() {\r\n  \tthis.setState({ nickname: \"\" });\r\n  \tthis.props.handleNickname(\"\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"beforeunload\", this.saveMainStateToSessionStorage.bind(this) );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"beforeunload\", this.saveMainStateToSessionStorage.bind(this) );\r\n    this.saveMainStateToSessionStorage();\r\n  }\r\n\r\n  saveMainStateToSessionStorage() {\r\n    let session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n    session.gameState.nickname = this.state.nickname;\r\n    localStorage.setItem('5R-SessionData', JSON.stringify(session));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t\t<div className=\"main\">\r\n\r\n\t\t\t\t<h1>\r\n\t\t\t\t\t<FormattedMessage id=\"page.title\" defaultMessage=\"Five-in-a-Row\" />\r\n\t\t\t\t</h1>\r\n\r\n\t\t\t\t<FormattedMessage id=\"game.start_the\" defaultMessage=\"Start the game by selecting a nickname!\" />\r\n\r\n\t\t\t\t<div className=\"set-nickname\">\r\n\r\n\t\t\t\t\t<FormattedMessage id=\"placeholder.nickname\" defaultMessage=\"nickname..\">\r\n\t\t\t\t\t\t{text => <input className=\"nickname\" onChange={(event)=>this.saveNickname(event)} value={this.state.nickname} type=\"text\" placeholder={text} />}\r\n\t\t\t\t\t</FormattedMessage>\r\n\r\n\t\t\t\t\t<FormattedMessage id=\"button.use_nickname\" defaultMessage=\"Use\">\r\n\t\t\t\t\t\t{text => <input className=\"game-button\" disabled={!this.state.nickname ? \"disabled\" : \"\"} type=\"button\" onClick={() => this.useNickname()} value={text} />}\r\n\t\t\t\t\t</FormattedMessage>\r\n\r\n\t\t\t\t\t<FormattedMessage id=\"button.remove_nickname\" defaultMessage=\"Remove\">\r\n\t\t\t\t\t\t{text => <input className=\"game-button\" disabled={!this.state.nickname ? \"disabled\" : \"\"} type=\"reset\" onClick={() => this.removeNickname()} value={text} />}\r\n\t\t\t\t\t</FormattedMessage>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n","import {FormattedMessage} from \"react-intl\";\r\nimport React from \"react\";\r\nimport {MODE_AI_VERSUS, MODE_PRACTICE, MODE_VERSUS_AI} from \"../common\";\r\n\r\nexport class GameOptions extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"game-options\">\r\n\r\n\t\t\t\t<FormattedMessage id=\"button.practice_game\" defaultMessage=\"Practice\">\r\n\t\t\t\t\t{text => <input className=\"game-button\" type=\"button\" onClick={() => this.props.action(MODE_PRACTICE)} value={text} />}\r\n\t\t\t\t</FormattedMessage>\r\n\r\n\t\t\t\t<FormattedMessage id=\"button.vs_ai\" defaultMessage=\"Versus AI\">\r\n\t\t\t\t\t{text => <input className=\"game-button\" type=\"button\" onClick={() => this.props.action(MODE_VERSUS_AI)} value={text} />}\r\n\t\t\t\t</FormattedMessage>\r\n\r\n\t\t\t\t<FormattedMessage id=\"button.ai_vs\" defaultMessage=\"AI versus\">\r\n\t\t\t\t\t{text => <input className=\"game-button\" type=\"button\" onClick={() => this.props.action(MODE_AI_VERSUS)} value={text} />}\r\n\t\t\t\t</FormattedMessage>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\nimport { ResizableBox } from 'react-resizable';\r\nimport { calculateWinner, getAIMove, initialGameState } from '../functions';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { MODE_PRACTICE, MODE_AI_VERSUS, MODE_VERSUS_AI, MIN_COLUMNS, MAX_COLUMNS, SQUARE_WIDTH, DEV_ENV } from '../common';\r\nimport {GameOptions} from \"../component/game-options\";\r\n\r\nfunction Square(props) {\r\n\tlet className = props.className + (props.value ? \" \" + props.value : \"\");\r\n\tlet title = (DEV_ENV ? props.index : '');\r\n\r\n\treturn (\r\n\t\t<button className={className} onClick={props.onClick} title={title}>\r\n\t\t\t{props.value}\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nclass Board extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.resizeBoard = this.props.resizeBoard.bind(this);\r\n\t}\r\n\r\n  renderSquare(i, className) {\r\n    return <Square key={i} index={i} value={this.props.squares[i]} className={className} onClick={() => this.props.onClick(i)} />;\r\n  }\r\n\r\n\trender() {\r\n\t\tlet rows = [];\r\n\t\tfor (let i = 0; i < this.props.cols; i++) {\r\n\t\t\tlet cells = [];\r\n\t\t\tfor (let j = 0; j < this.props.cols; j++) {\r\n\t\t\t\tlet index = i * this.props.cols + j;\r\n\t\t\t\tlet className = \"square\";\r\n\t\t\t\tif (this.props.highlite.indexOf(index) >= 0) {\r\n\t\t\t\t\tclassName += \" highlite-square\";\r\n\t\t\t\t}\r\n\t\t\t\tcells.push(this.renderSquare(index, className));\r\n\t\t\t}\r\n\t\t\trows.push(<div className=\"board-row\" key={i} > {cells} </div>);\r\n\t\t}\r\n\r\n\t\tconst minSize = SQUARE_WIDTH * MIN_COLUMNS;\r\n\t\tconst maxSize = SQUARE_WIDTH * MAX_COLUMNS;\r\n\r\n\t\treturn (\r\n\t\t\t\t<ResizableBox\r\n\t\t\t\t\tonResize={this.resizeBoard}\r\n\t\t\t\t\tlockAspectRatio={true}\r\n\t\t\t\t\twidth={SQUARE_WIDTH * this.props.cols}\r\n\t\t\t\t\theight={SQUARE_WIDTH * this.props.cols}\r\n\t\t\t\t\tminConstraints={[minSize, minSize]}\r\n\t\t\t\t\tmaxConstraints={[maxSize, maxSize]}\r\n\t\t\t\t\tclassName=\"board\">{rows}</ResizableBox>\r\n\t\t);\r\n  }\r\n}\r\n\r\nexport class Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = initialGameState(MODE_PRACTICE, MIN_COLUMNS);\r\n\t\tthis.width = SQUARE_WIDTH * MIN_COLUMNS;\r\n\r\n    let session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n    if ('gameState' in session) {\r\n      this.state = session.gameState;\r\n      this.width = SQUARE_WIDTH * this.state.cols;\r\n    }\r\n\r\n    this.resizeBoard = this.resizeBoard.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"beforeunload\", this.saveGameStateToSessionStorage.bind(this) );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"beforeunload\", this.saveGameStateToSessionStorage.bind(this) );\r\n    this.saveGameStateToSessionStorage();\r\n  }\r\n\r\n  saveGameStateToSessionStorage() {\r\n    let session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n    session.gameState = this.state;\r\n    localStorage.setItem('5R-SessionData', JSON.stringify(session));\r\n  }\r\n\r\n  resizeBoard(e, data) {\r\n  \tlet width = data.size.width;\r\n  \tlet oldWidth = this.width;\r\n\t\tlet newSize = Math.floor(width / SQUARE_WIDTH);\r\n\r\n\t\tif (width > oldWidth && newSize <= MAX_COLUMNS) {\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.setState({ cols: newSize }, this.saveGameStateToSessionStorage());\r\n\t\t} else if (width < (oldWidth - SQUARE_WIDTH / 2) && newSize > MIN_COLUMNS) {\r\n\t\t\tnewSize = newSize - 1;\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.setState({ cols: newSize }, this.saveGameStateToSessionStorage());\r\n\t\t}\r\n  }\r\n\r\n  addMarker(i, playerMove = true) {\r\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n    const current = history[history.length - 1];\r\n    const squares = current.squares.slice();\r\n    const { winner, indexes } = calculateWinner(squares, this.state.cols);\r\n    if ((winner && indexes) || squares[i]) {\r\n    \tthis.setState({ xIsNext: !this.state.xIsNext });\r\n      return;\r\n    }\r\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\r\n\r\n    this.setState({\r\n      history: history.concat([{ squares: squares, }]),\r\n      xIsNext: !this.state.xIsNext,\r\n      stepNumber: history.length,\r\n    }, function () {\r\n\t\t\tif (this.state.mode === MODE_VERSUS_AI && playerMove) {\r\n\t\t\t\tlet move = getAIMove(Object.assign({}, this.state), squares.slice(), this.state.cols);\r\n\t\t\t\tthis.addMarker(move, false);\r\n\r\n\t\t\t} else if (this.state.mode === MODE_AI_VERSUS && playerMove) {\r\n    \t\tlet move = getAIMove(Object.assign({}, this.state), squares.slice(), this.state.cols);\r\n\t\t\t\tthis.addMarker(move, false);\r\n\t\t\t}\r\n\t\t});\r\n  }\r\n\r\n  jumpTo(step) {\r\n  \tif (this.state.mode === MODE_PRACTICE) {\r\n  \t\tthis.setState({ xIsNext: !this.state.xIsNext });\r\n  \t}\r\n    this.setState({ stepNumber: step });\r\n  }\r\n\r\n  changeMode(mode) {\r\n\t\tlet session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n\t\tlet nickname = session.gameState.nickname;\r\n\t\tsession.gameState = initialGameState(mode, session.gameState.cols);\r\n\t\tsession.gameState.nickname = nickname;\r\n\r\n    this.setState(session.gameState, function () {\r\n    \tthis.props.handleMode(mode);\r\n    \tif (mode === MODE_AI_VERSUS) {\r\n    \t\tconst squares = this.state.history[0].squares.slice();\r\n    \t\tlet move = getAIMove(Object.assign({}, this.state), squares.slice(), this.state.cols);\r\n\t\t\t\tthis.addMarker(move, false);\r\n\t\t\t}\r\n\t\t});\r\n  }\r\n\r\n  render() {\r\n    const history = this.state.history;\r\n    const current = history[this.state.stepNumber];\r\n    const squares = current.squares;\r\n    const cols = this.state.cols;\r\n    const { winner, indexes } = calculateWinner(current.squares, cols);\r\n\r\n    let status = <FormattedMessage id=\"game.next_player\" defaultMessage=\"Next player: {player}\" values={{ player: (this.state.xIsNext ? 'X' : 'O') }}/>;\r\n    if (winner) {\r\n\t\t  status = <strong><FormattedMessage id=\"game.winner\" defaultMessage=\"Winner: {player}\" values={{ player: winner }}/></strong>;\r\n    }\r\n\r\n\t\tlet steps = (this.state.mode === MODE_PRACTICE ? 1 : 2);\r\n    let undoDisabled = (this.state.stepNumber - steps < 0 ? 'disabled' : '');\r\n    let redoDisabled = (this.state.stepNumber >= history.length - steps ? 'disabled' : '');\r\n\r\n    return (\r\n\t\t\t<div className=\"game\">\r\n\r\n\t\t\t\t<style>\r\n\t\t\t\t\t{ `.square { line-height: ${SQUARE_WIDTH}px;\theight: ${SQUARE_WIDTH}px;\twidth: ${SQUARE_WIDTH}px; }` }\r\n\t\t\t\t\t{ this.state.stepNumber ? \".react-resizable-handle { display: none; }\" : \"\" }\r\n\t\t\t\t</style>\r\n\r\n\t\t\t\t<Board squares={squares} highlite={indexes} cols={cols} resizeBoard={this.resizeBoard} onClick={(i) => this.addMarker(i) } />\r\n\r\n\t\t\t\t<div className=\"game-info\">\r\n\t\t\t\t\t<div className=\"status\">{status}</div>\r\n\r\n\t\t\t\t\t<div className=\"undo-redo\">\r\n\t\t\t\t\t\t<button disabled={undoDisabled} onClick={() => this.jumpTo(this.state.stepNumber - steps)}>\r\n\t\t\t\t\t\t\t<FormattedMessage id=\"game.undo\" defaultMessage=\"Undo\" /></button>\r\n\t\t\t\t\t\t<button disabled={redoDisabled} onClick={() => this.jumpTo(this.state.stepNumber + steps)}>\r\n\t\t\t\t\t\t\t<FormattedMessage id=\"game.redo\" defaultMessage=\"Redo\" /></button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<GameOptions action={this.changeMode.bind(this)} />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import {BrowserRouter, Route} from \"react-router-dom\";\r\nimport {Nickname} from \"../view/nickname\";\r\nimport {Game} from \"../view/game\";\r\nimport React from \"react\";\r\n\r\nexport function Router(props) {\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Route exact path=\"/\" render={(view) => <Nickname handleNickname={props.handleNickname} />}/>\r\n\t\t\t<Route exact path=\"/game\" render={(view) => <Game handleMode={props.handleMode} />}/>\r\n\t\t</BrowserRouter>\r\n\t);\r\n}\r\n","import {FormattedMessage} from \"react-intl\";\r\nimport React from \"react\";\r\n\r\nexport const DocumentTitle = () => (\r\n\t<FormattedMessage id='page.title' defaultMessage='5-in-a-row'>\r\n    {(message) => {\r\n      document.title = message;\r\n      return null\r\n    }}\r\n\t</FormattedMessage>\r\n);","import {FormattedMessage} from \"react-intl\";\r\nimport React from \"react\";\r\n\r\nconst modes = [\r\n\t<FormattedMessage id=\"game.na\" defaultMessage=\"N/A\" />,\r\n\t<FormattedMessage id=\"game.practice\" defaultMessage=\"practice\" />,\r\n\t<FormattedMessage id=\"game.mode_vs_ai\" defaultMessage=\"player versus AI\" />,\r\n\t<FormattedMessage id=\"game.mode_ai_vs\" defaultMessage=\"AI versus player\" />,\r\n];\r\n\r\nexport class Header extends React.Component {\r\n\r\n  changeLang(e, lang) {\r\n    e.preventDefault();\r\n    this.props.action(lang);\r\n  }\r\n\r\n  goBack() {\r\n  \tdocument.location.href = \"/\";\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t\t<div className=\"game-info\">\r\n\r\n\t\t\t\t\t<div className=\"player-nick\">\r\n\t\t\t\t\t\t<FormattedMessage id=\"game.player\" defaultMessage=\"Player\"/>:&nbsp;\r\n\t\t\t\t\t\t<FormattedMessage id=\"game.na\" defaultMessage=\"N/A\">\r\n\t\t\t\t\t\t\t{text => (this.props.nickname ? this.props.nickname : text)}\r\n\t\t\t\t\t\t</FormattedMessage>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"lang-selector\">\r\n\t\t\t\t\t\t<FormattedMessage id=\"game.language\" defaultMessage=\"Language\"/>:&nbsp;\r\n\t\t\t\t\t\t{this.props.locale === \"fi\" ? \"FI\" : <a href=\"/\" onClick={(e) => this.changeLang(e, \"fi\")}>FI</a>} |&nbsp;\r\n\t\t\t\t\t\t{this.props.locale === \"en\" ? \"EN\" : <a href=\"/\" onClick={(e) => this.changeLang(e, \"en\")}>EN</a>}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"mode-label\"><FormattedMessage id=\"game.mode\" defaultMessage=\"Mode\"/>: {modes[this.props.mode]}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"readme-link\">\r\n\t\t\t\t\t\t<FormattedMessage id=\"page.here_you_can_find\" defaultMessage=\"Here you can find: \"/>\r\n\t\t\t\t\t\t<a href=\"https://github.com/zerror/five-in-a-row/blob/master/README.md\" target=\"_blank\"\r\n\t\t\t\t\t\t\t rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t<FormattedMessage id=\"page.readme_link\" defaultMessage=\"README!\"/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<FormattedMessage id=\"button.back\" defaultMessage=\"Back\">\r\n\t\t\t\t\t\t{text => <input className=\"back-button\" disabled={document.location.pathname === \"/\" ? \"disabled\" : \"\"} type=\"button\" onClick={() => this.goBack()} value={text} />}\r\n\t\t\t\t\t</FormattedMessage>\r\n\r\n\t\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from \"react\";\r\nimport {addLocaleData, IntlProvider} from \"react-intl\";\r\nimport { Router } from \"./router\"\r\nimport { DocumentTitle } from \"./document-title\"\r\nimport fiMessages from \"../locale/fi\";\r\nimport {Header} from \"./header\";\r\nimport {MIN_COLUMNS, MODE_NA, MODE_PRACTICE} from \"../common\";\r\nimport {initialGameState} from \"../functions\";\r\n\r\nlet allMessages = { \"fi\": fiMessages };\r\n\r\nexport class IntlProviderWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tlocale: \"en\",\r\n\t\t\tmessages: {},\r\n\t\t\tmode: MODE_NA,\r\n\t\t\tnickname: \"\"\r\n\t\t};\r\n\r\n\t\tlet session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n\t\tif (!session) {\r\n\t\t\tsession.locale = this.state.locale;\r\n\t\t\tlocalStorage.setItem('5R-SessionData', JSON.stringify(session));\r\n\t\t} else if ('locale' in session) {\r\n\t\t\tthis.state.locale = session.locale;\r\n\t\t\tthis.state.messages = (allMessages[this.state.locale] ? allMessages[this.state.locale] : {});\r\n\t\t}\r\n\r\n\t\tlet localeData = require('react-intl/locale-data/' + this.state.locale);\r\n\r\n\t\taddLocaleData(localeData);\r\n\r\n  \tif ('gameState' in session) {\r\n  \t\tthis.state.mode = session.gameState.mode;\r\n  \t\tif ('nickname' in session.gameState && session.gameState.nickname) {\r\n\t\t\t\tthis.state.nickname = session.gameState.nickname;\r\n\t\t\t}\r\n  \t} else {\r\n  \t\tsession.gameState = initialGameState(MODE_PRACTICE, MIN_COLUMNS);\r\n  \t\tlocalStorage.setItem('5R-SessionData', JSON.stringify(session));\r\n  \t}\r\n\r\n  \tthis.setMode = this.setMode.bind(this);\r\n  \tthis.setNickname = this.setNickname.bind(this);\r\n  }\r\n\r\n  setLocale(locale) {\r\n    let messages = allMessages[locale] ? allMessages[locale] : {};\r\n\t\tthis.setState({\r\n      locale: locale,\r\n      messages: messages\r\n    });\r\n\r\n    let localeData = require('react-intl/locale-data/' + locale);\r\n    addLocaleData(localeData);\r\n\r\n    let session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n  \tsession.locale = locale;\r\n    localStorage.setItem('5R-SessionData', JSON.stringify(session));\r\n  }\r\n\r\n  setNickname(nickname) {\r\n    this.setState({\r\n      nickname: nickname\r\n    });\r\n    let session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n    session.gameState.nickname = nickname;\r\n  \tlocalStorage.setItem('5R-SessionData', JSON.stringify(session));\r\n  }\r\n\r\n  setMode(mode) {\r\n    this.setState({\r\n      mode: mode\r\n    });\r\n    let session = JSON.parse(localStorage.getItem('5R-SessionData') || \"{}\");\r\n    session.gameState.mode = mode;\r\n  \tlocalStorage.setItem('5R-SessionData', JSON.stringify(session));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <IntlProvider locale={this.state.locale} messages={this.state.messages} >\r\n        <div className=\"body-wrapper\">\r\n          <DocumentTitle />\r\n\r\n          <Header nickname={this.state.nickname}  mode={this.state.mode} locale={this.state.locale} action={this.setLocale.bind(this)} />\r\n\r\n\t\t\t\t\t<Router handleNickname={this.setNickname} handleMode={this.setMode}/>\r\n        </div>\r\n      </IntlProvider>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { IntlProviderWrapper } from \"./component/intl-provider-wrapper\";\r\n\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nlet host = null;\r\nif (process.env.NODE_ENV === 'development') {\r\n\thost = 'http://localhost:3001';\r\n}\r\n\r\nconst socket = socketIOClient(host);\r\n\r\nsocket.on('message', function (data) {\r\n\tconsole.log(data, \"!!!\");\r\n\tsocket.emit('ack', { my: 'data' });\r\n});\r\n\r\nexport class App extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<IntlProviderWrapper/>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {App} from \"./app\";\r\n\r\nReactDOM.render(\r\n\t<App />,\r\n\tdocument.getElementById('root')\r\n);\r\n","var map = {\n\t\"./\": 338,\n\t\"./af\": 40,\n\t\"./af.js\": 40,\n\t\"./agq\": 41,\n\t\"./agq.js\": 41,\n\t\"./ak\": 42,\n\t\"./ak.js\": 42,\n\t\"./am\": 43,\n\t\"./am.js\": 43,\n\t\"./ar\": 44,\n\t\"./ar.js\": 44,\n\t\"./ars\": 45,\n\t\"./ars.js\": 45,\n\t\"./as\": 46,\n\t\"./as.js\": 46,\n\t\"./asa\": 47,\n\t\"./asa.js\": 47,\n\t\"./ast\": 48,\n\t\"./ast.js\": 48,\n\t\"./az\": 49,\n\t\"./az.js\": 49,\n\t\"./bas\": 50,\n\t\"./bas.js\": 50,\n\t\"./be\": 51,\n\t\"./be.js\": 51,\n\t\"./bem\": 52,\n\t\"./bem.js\": 52,\n\t\"./bez\": 53,\n\t\"./bez.js\": 53,\n\t\"./bg\": 54,\n\t\"./bg.js\": 54,\n\t\"./bh\": 55,\n\t\"./bh.js\": 55,\n\t\"./bm\": 56,\n\t\"./bm.js\": 56,\n\t\"./bn\": 57,\n\t\"./bn.js\": 57,\n\t\"./bo\": 58,\n\t\"./bo.js\": 58,\n\t\"./br\": 59,\n\t\"./br.js\": 59,\n\t\"./brx\": 60,\n\t\"./brx.js\": 60,\n\t\"./bs\": 61,\n\t\"./bs.js\": 61,\n\t\"./ca\": 62,\n\t\"./ca.js\": 62,\n\t\"./ccp\": 63,\n\t\"./ccp.js\": 63,\n\t\"./ce\": 64,\n\t\"./ce.js\": 64,\n\t\"./cgg\": 65,\n\t\"./cgg.js\": 65,\n\t\"./chr\": 66,\n\t\"./chr.js\": 66,\n\t\"./ckb\": 67,\n\t\"./ckb.js\": 67,\n\t\"./cs\": 68,\n\t\"./cs.js\": 68,\n\t\"./cu\": 69,\n\t\"./cu.js\": 69,\n\t\"./cy\": 70,\n\t\"./cy.js\": 70,\n\t\"./da\": 71,\n\t\"./da.js\": 71,\n\t\"./dav\": 72,\n\t\"./dav.js\": 72,\n\t\"./de\": 73,\n\t\"./de.js\": 73,\n\t\"./dje\": 74,\n\t\"./dje.js\": 74,\n\t\"./dsb\": 75,\n\t\"./dsb.js\": 75,\n\t\"./dua\": 76,\n\t\"./dua.js\": 76,\n\t\"./dv\": 77,\n\t\"./dv.js\": 77,\n\t\"./dyo\": 78,\n\t\"./dyo.js\": 78,\n\t\"./dz\": 79,\n\t\"./dz.js\": 79,\n\t\"./ebu\": 80,\n\t\"./ebu.js\": 80,\n\t\"./ee\": 81,\n\t\"./ee.js\": 81,\n\t\"./el\": 82,\n\t\"./el.js\": 82,\n\t\"./en\": 83,\n\t\"./en.js\": 83,\n\t\"./eo\": 84,\n\t\"./eo.js\": 84,\n\t\"./es\": 85,\n\t\"./es.js\": 85,\n\t\"./et\": 86,\n\t\"./et.js\": 86,\n\t\"./eu\": 87,\n\t\"./eu.js\": 87,\n\t\"./ewo\": 88,\n\t\"./ewo.js\": 88,\n\t\"./fa\": 89,\n\t\"./fa.js\": 89,\n\t\"./ff\": 90,\n\t\"./ff.js\": 90,\n\t\"./fi\": 91,\n\t\"./fi.js\": 91,\n\t\"./fil\": 92,\n\t\"./fil.js\": 92,\n\t\"./fo\": 93,\n\t\"./fo.js\": 93,\n\t\"./fr\": 94,\n\t\"./fr.js\": 94,\n\t\"./fur\": 95,\n\t\"./fur.js\": 95,\n\t\"./fy\": 96,\n\t\"./fy.js\": 96,\n\t\"./ga\": 97,\n\t\"./ga.js\": 97,\n\t\"./gd\": 98,\n\t\"./gd.js\": 98,\n\t\"./gl\": 99,\n\t\"./gl.js\": 99,\n\t\"./gsw\": 100,\n\t\"./gsw.js\": 100,\n\t\"./gu\": 101,\n\t\"./gu.js\": 101,\n\t\"./guw\": 102,\n\t\"./guw.js\": 102,\n\t\"./guz\": 103,\n\t\"./guz.js\": 103,\n\t\"./gv\": 104,\n\t\"./gv.js\": 104,\n\t\"./ha\": 105,\n\t\"./ha.js\": 105,\n\t\"./haw\": 106,\n\t\"./haw.js\": 106,\n\t\"./he\": 107,\n\t\"./he.js\": 107,\n\t\"./hi\": 108,\n\t\"./hi.js\": 108,\n\t\"./hr\": 109,\n\t\"./hr.js\": 109,\n\t\"./hsb\": 110,\n\t\"./hsb.js\": 110,\n\t\"./hu\": 111,\n\t\"./hu.js\": 111,\n\t\"./hy\": 112,\n\t\"./hy.js\": 112,\n\t\"./ia\": 113,\n\t\"./ia.js\": 113,\n\t\"./id\": 114,\n\t\"./id.js\": 114,\n\t\"./ig\": 115,\n\t\"./ig.js\": 115,\n\t\"./ii\": 116,\n\t\"./ii.js\": 116,\n\t\"./in\": 117,\n\t\"./in.js\": 117,\n\t\"./index\": 339,\n\t\"./index.js\": 340,\n\t\"./io\": 118,\n\t\"./io.js\": 118,\n\t\"./is\": 119,\n\t\"./is.js\": 119,\n\t\"./it\": 120,\n\t\"./it.js\": 120,\n\t\"./iu\": 121,\n\t\"./iu.js\": 121,\n\t\"./iw\": 122,\n\t\"./iw.js\": 122,\n\t\"./ja\": 123,\n\t\"./ja.js\": 123,\n\t\"./jbo\": 124,\n\t\"./jbo.js\": 124,\n\t\"./jgo\": 125,\n\t\"./jgo.js\": 125,\n\t\"./ji\": 126,\n\t\"./ji.js\": 126,\n\t\"./jmc\": 127,\n\t\"./jmc.js\": 127,\n\t\"./jv\": 128,\n\t\"./jv.js\": 128,\n\t\"./jw\": 129,\n\t\"./jw.js\": 129,\n\t\"./ka\": 130,\n\t\"./ka.js\": 130,\n\t\"./kab\": 131,\n\t\"./kab.js\": 131,\n\t\"./kaj\": 132,\n\t\"./kaj.js\": 132,\n\t\"./kam\": 133,\n\t\"./kam.js\": 133,\n\t\"./kcg\": 134,\n\t\"./kcg.js\": 134,\n\t\"./kde\": 135,\n\t\"./kde.js\": 135,\n\t\"./kea\": 136,\n\t\"./kea.js\": 136,\n\t\"./khq\": 137,\n\t\"./khq.js\": 137,\n\t\"./ki\": 138,\n\t\"./ki.js\": 138,\n\t\"./kk\": 139,\n\t\"./kk.js\": 139,\n\t\"./kkj\": 140,\n\t\"./kkj.js\": 140,\n\t\"./kl\": 141,\n\t\"./kl.js\": 141,\n\t\"./kln\": 142,\n\t\"./kln.js\": 142,\n\t\"./km\": 143,\n\t\"./km.js\": 143,\n\t\"./kn\": 144,\n\t\"./kn.js\": 144,\n\t\"./ko\": 145,\n\t\"./ko.js\": 145,\n\t\"./kok\": 146,\n\t\"./kok.js\": 146,\n\t\"./ks\": 147,\n\t\"./ks.js\": 147,\n\t\"./ksb\": 148,\n\t\"./ksb.js\": 148,\n\t\"./ksf\": 149,\n\t\"./ksf.js\": 149,\n\t\"./ksh\": 150,\n\t\"./ksh.js\": 150,\n\t\"./ku\": 151,\n\t\"./ku.js\": 151,\n\t\"./kw\": 152,\n\t\"./kw.js\": 152,\n\t\"./ky\": 153,\n\t\"./ky.js\": 153,\n\t\"./lag\": 154,\n\t\"./lag.js\": 154,\n\t\"./lb\": 155,\n\t\"./lb.js\": 155,\n\t\"./lg\": 156,\n\t\"./lg.js\": 156,\n\t\"./lkt\": 157,\n\t\"./lkt.js\": 157,\n\t\"./ln\": 158,\n\t\"./ln.js\": 158,\n\t\"./lo\": 159,\n\t\"./lo.js\": 159,\n\t\"./lrc\": 160,\n\t\"./lrc.js\": 160,\n\t\"./lt\": 161,\n\t\"./lt.js\": 161,\n\t\"./lu\": 162,\n\t\"./lu.js\": 162,\n\t\"./luo\": 163,\n\t\"./luo.js\": 163,\n\t\"./luy\": 164,\n\t\"./luy.js\": 164,\n\t\"./lv\": 165,\n\t\"./lv.js\": 165,\n\t\"./mas\": 166,\n\t\"./mas.js\": 166,\n\t\"./mer\": 167,\n\t\"./mer.js\": 167,\n\t\"./mfe\": 168,\n\t\"./mfe.js\": 168,\n\t\"./mg\": 169,\n\t\"./mg.js\": 169,\n\t\"./mgh\": 170,\n\t\"./mgh.js\": 170,\n\t\"./mgo\": 171,\n\t\"./mgo.js\": 171,\n\t\"./mi\": 172,\n\t\"./mi.js\": 172,\n\t\"./mk\": 173,\n\t\"./mk.js\": 173,\n\t\"./ml\": 174,\n\t\"./ml.js\": 174,\n\t\"./mn\": 175,\n\t\"./mn.js\": 175,\n\t\"./mo\": 176,\n\t\"./mo.js\": 176,\n\t\"./mr\": 177,\n\t\"./mr.js\": 177,\n\t\"./ms\": 178,\n\t\"./ms.js\": 178,\n\t\"./mt\": 179,\n\t\"./mt.js\": 179,\n\t\"./mua\": 180,\n\t\"./mua.js\": 180,\n\t\"./my\": 181,\n\t\"./my.js\": 181,\n\t\"./mzn\": 182,\n\t\"./mzn.js\": 182,\n\t\"./nah\": 183,\n\t\"./nah.js\": 183,\n\t\"./naq\": 184,\n\t\"./naq.js\": 184,\n\t\"./nb\": 185,\n\t\"./nb.js\": 185,\n\t\"./nd\": 186,\n\t\"./nd.js\": 186,\n\t\"./nds\": 187,\n\t\"./nds.js\": 187,\n\t\"./ne\": 188,\n\t\"./ne.js\": 188,\n\t\"./nl\": 189,\n\t\"./nl.js\": 189,\n\t\"./nmg\": 190,\n\t\"./nmg.js\": 190,\n\t\"./nn\": 191,\n\t\"./nn.js\": 191,\n\t\"./nnh\": 192,\n\t\"./nnh.js\": 192,\n\t\"./no\": 193,\n\t\"./no.js\": 193,\n\t\"./nqo\": 194,\n\t\"./nqo.js\": 194,\n\t\"./nr\": 195,\n\t\"./nr.js\": 195,\n\t\"./nso\": 196,\n\t\"./nso.js\": 196,\n\t\"./nus\": 197,\n\t\"./nus.js\": 197,\n\t\"./ny\": 198,\n\t\"./ny.js\": 198,\n\t\"./nyn\": 199,\n\t\"./nyn.js\": 199,\n\t\"./om\": 200,\n\t\"./om.js\": 200,\n\t\"./or\": 201,\n\t\"./or.js\": 201,\n\t\"./os\": 202,\n\t\"./os.js\": 202,\n\t\"./pa\": 203,\n\t\"./pa.js\": 203,\n\t\"./pap\": 204,\n\t\"./pap.js\": 204,\n\t\"./pl\": 205,\n\t\"./pl.js\": 205,\n\t\"./prg\": 206,\n\t\"./prg.js\": 206,\n\t\"./ps\": 207,\n\t\"./ps.js\": 207,\n\t\"./pt\": 208,\n\t\"./pt.js\": 208,\n\t\"./qu\": 209,\n\t\"./qu.js\": 209,\n\t\"./rm\": 210,\n\t\"./rm.js\": 210,\n\t\"./rn\": 211,\n\t\"./rn.js\": 211,\n\t\"./ro\": 212,\n\t\"./ro.js\": 212,\n\t\"./rof\": 213,\n\t\"./rof.js\": 213,\n\t\"./ru\": 214,\n\t\"./ru.js\": 214,\n\t\"./rw\": 215,\n\t\"./rw.js\": 215,\n\t\"./rwk\": 216,\n\t\"./rwk.js\": 216,\n\t\"./sah\": 217,\n\t\"./sah.js\": 217,\n\t\"./saq\": 218,\n\t\"./saq.js\": 218,\n\t\"./sbp\": 219,\n\t\"./sbp.js\": 219,\n\t\"./sc\": 220,\n\t\"./sc.js\": 220,\n\t\"./scn\": 221,\n\t\"./scn.js\": 221,\n\t\"./sd\": 222,\n\t\"./sd.js\": 222,\n\t\"./sdh\": 223,\n\t\"./sdh.js\": 223,\n\t\"./se\": 224,\n\t\"./se.js\": 224,\n\t\"./seh\": 225,\n\t\"./seh.js\": 225,\n\t\"./ses\": 226,\n\t\"./ses.js\": 226,\n\t\"./sg\": 227,\n\t\"./sg.js\": 227,\n\t\"./sh\": 228,\n\t\"./sh.js\": 228,\n\t\"./shi\": 229,\n\t\"./shi.js\": 229,\n\t\"./si\": 230,\n\t\"./si.js\": 230,\n\t\"./sk\": 231,\n\t\"./sk.js\": 231,\n\t\"./sl\": 232,\n\t\"./sl.js\": 232,\n\t\"./sma\": 233,\n\t\"./sma.js\": 233,\n\t\"./smi\": 234,\n\t\"./smi.js\": 234,\n\t\"./smj\": 235,\n\t\"./smj.js\": 235,\n\t\"./smn\": 236,\n\t\"./smn.js\": 236,\n\t\"./sms\": 237,\n\t\"./sms.js\": 237,\n\t\"./sn\": 238,\n\t\"./sn.js\": 238,\n\t\"./so\": 239,\n\t\"./so.js\": 239,\n\t\"./sq\": 240,\n\t\"./sq.js\": 240,\n\t\"./sr\": 241,\n\t\"./sr.js\": 241,\n\t\"./ss\": 242,\n\t\"./ss.js\": 242,\n\t\"./ssy\": 243,\n\t\"./ssy.js\": 243,\n\t\"./st\": 244,\n\t\"./st.js\": 244,\n\t\"./sv\": 245,\n\t\"./sv.js\": 245,\n\t\"./sw\": 246,\n\t\"./sw.js\": 246,\n\t\"./syr\": 247,\n\t\"./syr.js\": 247,\n\t\"./ta\": 248,\n\t\"./ta.js\": 248,\n\t\"./te\": 249,\n\t\"./te.js\": 249,\n\t\"./teo\": 250,\n\t\"./teo.js\": 250,\n\t\"./tg\": 251,\n\t\"./tg.js\": 251,\n\t\"./th\": 252,\n\t\"./th.js\": 252,\n\t\"./ti\": 253,\n\t\"./ti.js\": 253,\n\t\"./tig\": 254,\n\t\"./tig.js\": 254,\n\t\"./tk\": 255,\n\t\"./tk.js\": 255,\n\t\"./tl\": 256,\n\t\"./tl.js\": 256,\n\t\"./tn\": 257,\n\t\"./tn.js\": 257,\n\t\"./to\": 258,\n\t\"./to.js\": 258,\n\t\"./tr\": 259,\n\t\"./tr.js\": 259,\n\t\"./ts\": 260,\n\t\"./ts.js\": 260,\n\t\"./tt\": 261,\n\t\"./tt.js\": 261,\n\t\"./twq\": 262,\n\t\"./twq.js\": 262,\n\t\"./tzm\": 263,\n\t\"./tzm.js\": 263,\n\t\"./ug\": 264,\n\t\"./ug.js\": 264,\n\t\"./uk\": 265,\n\t\"./uk.js\": 265,\n\t\"./ur\": 266,\n\t\"./ur.js\": 266,\n\t\"./uz\": 267,\n\t\"./uz.js\": 267,\n\t\"./vai\": 268,\n\t\"./vai.js\": 268,\n\t\"./ve\": 269,\n\t\"./ve.js\": 269,\n\t\"./vi\": 270,\n\t\"./vi.js\": 270,\n\t\"./vo\": 271,\n\t\"./vo.js\": 271,\n\t\"./vun\": 272,\n\t\"./vun.js\": 272,\n\t\"./wa\": 273,\n\t\"./wa.js\": 273,\n\t\"./wae\": 274,\n\t\"./wae.js\": 274,\n\t\"./wo\": 275,\n\t\"./wo.js\": 275,\n\t\"./xh\": 276,\n\t\"./xh.js\": 276,\n\t\"./xog\": 277,\n\t\"./xog.js\": 277,\n\t\"./yav\": 278,\n\t\"./yav.js\": 278,\n\t\"./yi\": 279,\n\t\"./yi.js\": 279,\n\t\"./yo\": 280,\n\t\"./yo.js\": 280,\n\t\"./yue\": 281,\n\t\"./yue.js\": 281,\n\t\"./zgh\": 282,\n\t\"./zgh.js\": 282,\n\t\"./zh\": 283,\n\t\"./zh.js\": 283,\n\t\"./zu\": 284,\n\t\"./zu.js\": 284\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;"],"sourceRoot":""}