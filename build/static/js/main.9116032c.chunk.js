(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{289:function(e,s){},291:function(e){e.exports={"page.title":"5-riviss\xe4","page.here-be":"T\xe4\xe4ll\xe4 on.. ","page.readme-link":"LUEMUT!","game.language":"Kieli","game.mode":"Pelimuoto","game.undo":"edellinen","game.redo":"seuraava","game.practice":"harjoitus","game.mode_vs_ai":"vs. teko\xe4ly","game.mode_ai_vs":"vs. teko\xe4ly","game.practice_game":"Harjoitus","game.vs_ai":"Vs. Teko\xe4ly","game.ai_vs":"Teko\xe4ly Vs.","game.next_player":"Seuraava pelaaja: {player}","game.winner":"Voittaja: {player}"}},293:function(e,s,t){e.exports=t(348)},310:function(e,s){},316:function(e,s){},319:function(e,s,t){},342:function(e,s){},345:function(e,s){},346:function(e,s){},347:function(e,s){},348:function(e,s,t){"use strict";t.r(s);var a=t(9),n=t(10),r=t(12),i=t(11),o=t(13),l=t(0),j=t.n(l),c=t(26),u=t.n(c),m=t(4),h=t(288),d="localhost:3000"===document.location.host;function g(e,s){for(var t=0;t<e.length;t++){var a=e[t];if(a){var n=[],r=0===t||t%s===0||(t+1)%s!==0&&(t+2)%s!==0&&(t+3)%s!==0&&(t+4)%s!==0,i=t+4*s<e.length,o=t+4*s+4<e.length,l=t+4*s-4<e.length;if(r&&e[t+1]===a&&e[t+2]===a&&e[t+3]===a&&e[t+4]===a)return[].push.apply(n,[t,t+1,t+2,t+3,t+4]),{winner:a,indexes:n};if(i&&e[t+s]===a&&e[t+2*s]===a&&e[t+3*s]===a&&e[t+4*s]===a)return[].push.apply(n,[t,t+1*s,t+2*s,t+3*s,t+4*s]),{winner:a,indexes:n};if(o)for(var j=1;j<5&&e[t+s*j+j]===a&&(t+s*j+j)%s!==0;j++)if(4===j)return[].push.apply(n,[t,t+1*s+1,t+2*s+2,t+3*s+3,t+4*s+4]),{winner:a,indexes:n};if(l)for(var c=1;c<5&&e[t+s*c-c]===a&&((t+s*c-c)%s!==0||4===c);c++)if(4===c)return[].push.apply(n,[t,t+1*s-1,t+2*s-2,t+3*s-3,t+4*s-4]),{winner:a,indexes:n}}}return{winner:null,indexes:[]}}function f(e,s,t,a){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=0,o=0,l=0,j=0,c=0,u=0,m=0,h=0,d=0,g=0,f=0,v=0,p=0,b="X"===a?"O":"X",k=1;k<t;k++){var y=n*k+r*k;if(1===n&&(e+k)%t===0)break;if(n>1&&e+y>=s.length)break;if(n>1&&r&&(e+y)%t===0)break;s[e+y]!==a||j?s[e+y]===b?j+1===k&&j++:null===s[e+y]&&(u||j||u++,j===k-1&&c++):(l+1===k&&l++,o++),j||i++}for(var w=1;w<t;w++){var x=n*w+r*w;if(1===n&&(e-w+1)%t===0)break;if(n>1&&e-x<0)break;if(n>1&&r&&(e-x-n+1)%t===0)break;s[e-x]!==a||g?s[e-x]===b?g+1===w&&g++:null===s[e-x]&&(v||g||v++,g===w-1&&f++):(d+1===w&&d++,h++),g||m++}return 4===l||4===d?200:((m+i>=4||j+g>=3)&&(l&&i>l&&(p+=1,o>l&&p++,l>=3&&(p+=4,m&&i&&(p+=6))),d&&m>d&&(p+=1,h>d&&(p+=1),d>=3&&(p+=4,m&&i&&(p+=6))),d+l>=2&&(p+=1,v+u>1&&(p+=1)),j>=2&&(c&&(p+=1),f&&(p+=1),j>=3&&(p+=3,c&&(p+=5),j>=4&&(p+=15))),g>=2&&(f&&(p+=1),c&&(p+=1),g>=3&&(p+=3,f&&(p+=5),g>=4&&(p+=20))),g&&j&&(p+=1,g+j>=3&&(p+=1,f&&(p+=1),c&&(p+=1),(f||c)&&(p+=6)))),p)}function v(e,s,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=e.stepNumber+a,r=e.xIsNext?"X":"O";a%2!==0&&(r=e.xIsNext?"O":"X");for(var i=Math.floor(s.length/2),o=i-2*t,l=i+2*t,j=-100,c=-100,u=i,m=0;m<s.length;m++)s[m]||n<5&&(m<o||m>l)||(s[m]=r,c=-100,c+=f(m,s,t,r,1,0),c+=f(m,s,t,r,t,0),c+=f(m,s,t,r,t,1),(c+=f(m,s,t,r,t,-1))>j&&(j=c,u=m,d&&console.log("move:",u,"score:",j)),s[m]=null);return u}var p=t(1),b=0,k=15,y=34;function w(e){var s=e.className+(e.value?" "+e.value:""),t=d?e.index:"";return j.a.createElement("button",{className:s,onClick:e.onClick,title:t},e.value)}var x=function(e){function s(e){var t;return Object(a.a)(this,s),(t=Object(r.a)(this,Object(i.a)(s).call(this,e))).resizeBoard=t.props.resizeBoard.bind(Object(m.a)(Object(m.a)(t))),t}return Object(o.a)(s,e),Object(n.a)(s,[{key:"renderSquare",value:function(e,s){var t=this;return j.a.createElement(w,{key:e,index:e,value:this.props.squares[e],className:s,onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){for(var e=[],s=0;s<this.props.cols;s++){for(var t=[],a=0;a<this.props.cols;a++){var n=s*this.props.cols+a,r="square";this.props.highlite.indexOf(n)>=0&&(r+=" highlite-square"),t.push(this.renderSquare(n,r))}e.push(j.a.createElement("div",{className:"board-row",key:s}," ",t," "))}var i=y*k,o=25*y;return j.a.createElement(h.ResizableBox,{onResize:this.resizeBoard,lockAspectRatio:!0,width:y*this.props.cols,height:y*this.props.cols,minConstraints:[i,i],maxConstraints:[o,o],className:"board"},e)}}]),s}(j.a.Component),E=function(e){function s(e){var t;Object(a.a)(this,s),(t=Object(r.a)(this,Object(i.a)(s).call(this,e))).modes=[j.a.createElement(p.a,{id:"game.practice",defaultMessage:"practice"}),j.a.createElement(p.a,{id:"game.mode_vs_ai",defaultMessage:"versus AI"}),j.a.createElement(p.a,{id:"game.mode_ai_vs",defaultMessage:"AI versus"})],t.width=y*k,t.state={history:[{squares:Array(k*k).fill(null)}],cols:k,xIsNext:!0,stepNumber:0,mode:b};var n=JSON.parse(localStorage.getItem("5R-SessionData")||"{}");return"state"in n?(t.state=n.state,t.width=y*t.state.cols):(n.state=t.state,localStorage.setItem("5R-SessionData",JSON.stringify(n))),t.resizeBoard=t.resizeBoard.bind(Object(m.a)(Object(m.a)(t))),t}return Object(o.a)(s,e),Object(n.a)(s,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.saveStateToSessionStorage.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.saveStateToSessionStorage.bind(this)),this.saveStateToSessionStorage()}},{key:"saveStateToSessionStorage",value:function(){var e=JSON.parse(localStorage.getItem("5R-SessionData")||"{}");e.state=this.state,localStorage.setItem("5R-SessionData",JSON.stringify(e))}},{key:"changeLang",value:function(e,s){e.preventDefault(),this.props.action(s)}},{key:"resizeBoard",value:function(e,s){var t=s.size.width,a=this.width,n=Math.floor(t/y);t>a&&n<=25?(this.width=t,this.setState({cols:n})):t<a-y/2&&n>k&&(n-=1,this.width=t,this.setState({cols:n}))}},{key:"addMarker",value:function(e){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=this.state.history.slice(0,this.state.stepNumber+1),a=t[t.length-1].squares.slice(),n=g(a,this.state.cols),r=n.winner,i=n.indexes;r&&i||a[e]?this.setState({xIsNext:!this.state.xIsNext}):(a[e]=this.state.xIsNext?"X":"O",this.setState({history:t.concat([{squares:a}]),xIsNext:!this.state.xIsNext,stepNumber:t.length},function(){if(1===this.state.mode&&s){var e=v(Object.assign({},this.state),a.slice(),this.state.cols);this.addMarker(e,!1)}else if(2===this.state.mode&&s){var t=v(Object.assign({},this.state),a.slice(),this.state.cols);this.addMarker(t,!1)}}))}},{key:"changeMode",value:function(e){var s=this.state.xIsNext;1===e?s=!0:2===e&&(s=!1),this.setState({history:[{squares:Array(this.state.cols*this.state.cols).fill(null)}],stepNumber:0,xIsNext:s,mode:e},function(){if(2===e){var s=this.state.history[0].squares.slice(),t=v(Object.assign({},this.state),s.slice(),this.state.cols);this.addMarker(t,!1)}})}},{key:"jumpTo",value:function(e){this.state.mode===b&&this.setState({xIsNext:!this.state.xIsNext}),this.setState({stepNumber:e})}},{key:"render",value:function(){var e=this,s=this.state.history,t=s[this.state.stepNumber],a=t.squares,n=this.state.cols,r=g(t.squares,n),i=r.winner,o=r.indexes,l=j.a.createElement(p.a,{id:"game.next_player",defaultMessage:"Next player: {player}",values:{player:this.state.xIsNext?"X":"O"}});i&&(l=j.a.createElement("strong",null,j.a.createElement(p.a,{id:"game.winner",defaultMessage:"Winner: {player}",values:{player:i}})));var c=this.state.mode===b?1:2,u=this.state.stepNumber-c<0?"disabled":"",m=this.state.stepNumber>=s.length-c?"disabled":"",h=this.state.stepNumber?".react-resizable-handle { display: none; }":"";return j.a.createElement("div",{className:"game"},j.a.createElement("style",null,".square { line-height: ".concat(y,"px;\theight: ").concat(y,"px;\twidth: ").concat(y,"px; }"),h),j.a.createElement(x,{squares:a,highlite:o,cols:n,resizeBoard:this.resizeBoard,onClick:function(s){return e.addMarker(s)}}),j.a.createElement("div",{className:"game-info"},j.a.createElement("div",{className:"status"},l),j.a.createElement("div",{className:"undo-redo"},j.a.createElement("button",{disabled:u,onClick:function(){return e.jumpTo(e.state.stepNumber-c)}},j.a.createElement(p.a,{id:"game.undo",defaultMessage:"Undo"})),j.a.createElement("button",{disabled:m,onClick:function(){return e.jumpTo(e.state.stepNumber+c)}},j.a.createElement(p.a,{id:"game.redo",defaultMessage:"Redo"}))),j.a.createElement("div",{className:"mode-label"},j.a.createElement(p.a,{id:"game.mode",defaultMessage:"Mode"}),": ",this.modes[this.state.mode]),j.a.createElement(p.a,{id:"game.practice_game",defaultMessage:"Practice"},function(s){return j.a.createElement("input",{className:"game-button",type:"button",onClick:function(){return e.changeMode(b)},value:s})}),j.a.createElement(p.a,{id:"game.vs_ai",defaultMessage:"Versus AI"},function(s){return j.a.createElement("input",{className:"game-button",type:"button",onClick:function(){return e.changeMode(1)},value:s})}),j.a.createElement(p.a,{id:"game.ai_vs",defaultMessage:"AI versus"},function(s){return j.a.createElement("input",{className:"game-button",type:"button",onClick:function(){return e.changeMode(2)},value:s})}),j.a.createElement("div",{className:"lang-selector"},j.a.createElement(p.a,{id:"game.language",defaultMessage:"Language"}),":\xa0","fi"===this.props.locale?"FI":j.a.createElement("a",{href:"/",onClick:function(s){return e.changeLang(s,"fi")}},"FI")," |\xa0","en"===this.props.locale?"EN":j.a.createElement("a",{href:"/",onClick:function(s){return e.changeLang(s,"en")}},"EN")),j.a.createElement("div",{className:"readme-link"},j.a.createElement(p.a,{id:"page.here-be",defaultMessage:"Here be.. "}),j.a.createElement("a",{href:"https://github.com/zerror/five-in-a-row/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"},j.a.createElement(p.a,{id:"page.readme-link",defaultMessage:"README!"})))))}}]),s}(j.a.Component),N=(t(319),t(291)),S=t(292);var O=t.n(S)()(null);O.on("message",function(e){console.log(e,"!!!"),O.emit("ack",{my:"data"})});var M="en",z={fi:N},q=JSON.parse(localStorage.getItem("5R-SessionData")||"{}");q?"locale"in q&&(M=q.locale):(q={locale:M},localStorage.setItem("5R-SessionData",JSON.stringify(q)));var I=z[M]?z[M]:{},_=t(42)("./"+M);Object(p.c)(_);var C=function(){return j.a.createElement(p.a,{id:"page.title",defaultMessage:"5-in-a-row"},function(e){return document.title=e,null})},D=function(e){function s(e){var t;Object(a.a)(this,s),t=Object(r.a)(this,Object(i.a)(s).call(this,e));var n=e.initialLocale,o=e.initialMessages;return t.state={locale:n,messages:o},t}return Object(o.a)(s,e),Object(n.a)(s,[{key:"handler",value:function(e){this.setState({locale:e,messages:z[e]?z[e]:{}}),_=t(42)("./"+e),Object(p.c)(_),q.locale=e,localStorage.setItem("5R-SessionData",JSON.stringify(q))}},{key:"render",value:function(){return j.a.createElement(p.b,{locale:this.state.locale,messages:this.state.messages},j.a.createElement("div",{className:"body-wrapper"},j.a.createElement(C,null),j.a.createElement(E,{locale:this.state.locale,action:this.handler.bind(this)})))}}]),s}(j.a.Component);u.a.render(j.a.createElement(D,{initialLocale:M,initialMessages:I}),document.getElementById("root"))},42:function(e,s,t){var a={"./":345,"./af":43,"./af.js":43,"./agq":44,"./agq.js":44,"./ak":45,"./ak.js":45,"./am":46,"./am.js":46,"./ar":47,"./ar.js":47,"./ars":48,"./ars.js":48,"./as":49,"./as.js":49,"./asa":50,"./asa.js":50,"./ast":51,"./ast.js":51,"./az":52,"./az.js":52,"./bas":53,"./bas.js":53,"./be":54,"./be.js":54,"./bem":55,"./bem.js":55,"./bez":56,"./bez.js":56,"./bg":57,"./bg.js":57,"./bh":58,"./bh.js":58,"./bm":59,"./bm.js":59,"./bn":60,"./bn.js":60,"./bo":61,"./bo.js":61,"./br":62,"./br.js":62,"./brx":63,"./brx.js":63,"./bs":64,"./bs.js":64,"./ca":65,"./ca.js":65,"./ccp":66,"./ccp.js":66,"./ce":67,"./ce.js":67,"./cgg":68,"./cgg.js":68,"./chr":69,"./chr.js":69,"./ckb":70,"./ckb.js":70,"./cs":71,"./cs.js":71,"./cu":72,"./cu.js":72,"./cy":73,"./cy.js":73,"./da":74,"./da.js":74,"./dav":75,"./dav.js":75,"./de":76,"./de.js":76,"./dje":77,"./dje.js":77,"./dsb":78,"./dsb.js":78,"./dua":79,"./dua.js":79,"./dv":80,"./dv.js":80,"./dyo":81,"./dyo.js":81,"./dz":82,"./dz.js":82,"./ebu":83,"./ebu.js":83,"./ee":84,"./ee.js":84,"./el":85,"./el.js":85,"./en":86,"./en.js":86,"./eo":87,"./eo.js":87,"./es":88,"./es.js":88,"./et":89,"./et.js":89,"./eu":90,"./eu.js":90,"./ewo":91,"./ewo.js":91,"./fa":92,"./fa.js":92,"./ff":93,"./ff.js":93,"./fi":94,"./fi.js":94,"./fil":95,"./fil.js":95,"./fo":96,"./fo.js":96,"./fr":97,"./fr.js":97,"./fur":98,"./fur.js":98,"./fy":99,"./fy.js":99,"./ga":100,"./ga.js":100,"./gd":101,"./gd.js":101,"./gl":102,"./gl.js":102,"./gsw":103,"./gsw.js":103,"./gu":104,"./gu.js":104,"./guw":105,"./guw.js":105,"./guz":106,"./guz.js":106,"./gv":107,"./gv.js":107,"./ha":108,"./ha.js":108,"./haw":109,"./haw.js":109,"./he":110,"./he.js":110,"./hi":111,"./hi.js":111,"./hr":112,"./hr.js":112,"./hsb":113,"./hsb.js":113,"./hu":114,"./hu.js":114,"./hy":115,"./hy.js":115,"./ia":116,"./ia.js":116,"./id":117,"./id.js":117,"./ig":118,"./ig.js":118,"./ii":119,"./ii.js":119,"./in":120,"./in.js":120,"./index":346,"./index.js":347,"./io":121,"./io.js":121,"./is":122,"./is.js":122,"./it":123,"./it.js":123,"./iu":124,"./iu.js":124,"./iw":125,"./iw.js":125,"./ja":126,"./ja.js":126,"./jbo":127,"./jbo.js":127,"./jgo":128,"./jgo.js":128,"./ji":129,"./ji.js":129,"./jmc":130,"./jmc.js":130,"./jv":131,"./jv.js":131,"./jw":132,"./jw.js":132,"./ka":133,"./ka.js":133,"./kab":134,"./kab.js":134,"./kaj":135,"./kaj.js":135,"./kam":136,"./kam.js":136,"./kcg":137,"./kcg.js":137,"./kde":138,"./kde.js":138,"./kea":139,"./kea.js":139,"./khq":140,"./khq.js":140,"./ki":141,"./ki.js":141,"./kk":142,"./kk.js":142,"./kkj":143,"./kkj.js":143,"./kl":144,"./kl.js":144,"./kln":145,"./kln.js":145,"./km":146,"./km.js":146,"./kn":147,"./kn.js":147,"./ko":148,"./ko.js":148,"./kok":149,"./kok.js":149,"./ks":150,"./ks.js":150,"./ksb":151,"./ksb.js":151,"./ksf":152,"./ksf.js":152,"./ksh":153,"./ksh.js":153,"./ku":154,"./ku.js":154,"./kw":155,"./kw.js":155,"./ky":156,"./ky.js":156,"./lag":157,"./lag.js":157,"./lb":158,"./lb.js":158,"./lg":159,"./lg.js":159,"./lkt":160,"./lkt.js":160,"./ln":161,"./ln.js":161,"./lo":162,"./lo.js":162,"./lrc":163,"./lrc.js":163,"./lt":164,"./lt.js":164,"./lu":165,"./lu.js":165,"./luo":166,"./luo.js":166,"./luy":167,"./luy.js":167,"./lv":168,"./lv.js":168,"./mas":169,"./mas.js":169,"./mer":170,"./mer.js":170,"./mfe":171,"./mfe.js":171,"./mg":172,"./mg.js":172,"./mgh":173,"./mgh.js":173,"./mgo":174,"./mgo.js":174,"./mi":175,"./mi.js":175,"./mk":176,"./mk.js":176,"./ml":177,"./ml.js":177,"./mn":178,"./mn.js":178,"./mo":179,"./mo.js":179,"./mr":180,"./mr.js":180,"./ms":181,"./ms.js":181,"./mt":182,"./mt.js":182,"./mua":183,"./mua.js":183,"./my":184,"./my.js":184,"./mzn":185,"./mzn.js":185,"./nah":186,"./nah.js":186,"./naq":187,"./naq.js":187,"./nb":188,"./nb.js":188,"./nd":189,"./nd.js":189,"./nds":190,"./nds.js":190,"./ne":191,"./ne.js":191,"./nl":192,"./nl.js":192,"./nmg":193,"./nmg.js":193,"./nn":194,"./nn.js":194,"./nnh":195,"./nnh.js":195,"./no":196,"./no.js":196,"./nqo":197,"./nqo.js":197,"./nr":198,"./nr.js":198,"./nso":199,"./nso.js":199,"./nus":200,"./nus.js":200,"./ny":201,"./ny.js":201,"./nyn":202,"./nyn.js":202,"./om":203,"./om.js":203,"./or":204,"./or.js":204,"./os":205,"./os.js":205,"./pa":206,"./pa.js":206,"./pap":207,"./pap.js":207,"./pl":208,"./pl.js":208,"./prg":209,"./prg.js":209,"./ps":210,"./ps.js":210,"./pt":211,"./pt.js":211,"./qu":212,"./qu.js":212,"./rm":213,"./rm.js":213,"./rn":214,"./rn.js":214,"./ro":215,"./ro.js":215,"./rof":216,"./rof.js":216,"./ru":217,"./ru.js":217,"./rw":218,"./rw.js":218,"./rwk":219,"./rwk.js":219,"./sah":220,"./sah.js":220,"./saq":221,"./saq.js":221,"./sbp":222,"./sbp.js":222,"./sc":223,"./sc.js":223,"./scn":224,"./scn.js":224,"./sd":225,"./sd.js":225,"./sdh":226,"./sdh.js":226,"./se":227,"./se.js":227,"./seh":228,"./seh.js":228,"./ses":229,"./ses.js":229,"./sg":230,"./sg.js":230,"./sh":231,"./sh.js":231,"./shi":232,"./shi.js":232,"./si":233,"./si.js":233,"./sk":234,"./sk.js":234,"./sl":235,"./sl.js":235,"./sma":236,"./sma.js":236,"./smi":237,"./smi.js":237,"./smj":238,"./smj.js":238,"./smn":239,"./smn.js":239,"./sms":240,"./sms.js":240,"./sn":241,"./sn.js":241,"./so":242,"./so.js":242,"./sq":243,"./sq.js":243,"./sr":244,"./sr.js":244,"./ss":245,"./ss.js":245,"./ssy":246,"./ssy.js":246,"./st":247,"./st.js":247,"./sv":248,"./sv.js":248,"./sw":249,"./sw.js":249,"./syr":250,"./syr.js":250,"./ta":251,"./ta.js":251,"./te":252,"./te.js":252,"./teo":253,"./teo.js":253,"./tg":254,"./tg.js":254,"./th":255,"./th.js":255,"./ti":256,"./ti.js":256,"./tig":257,"./tig.js":257,"./tk":258,"./tk.js":258,"./tl":259,"./tl.js":259,"./tn":260,"./tn.js":260,"./to":261,"./to.js":261,"./tr":262,"./tr.js":262,"./ts":263,"./ts.js":263,"./tt":264,"./tt.js":264,"./twq":265,"./twq.js":265,"./tzm":266,"./tzm.js":266,"./ug":267,"./ug.js":267,"./uk":268,"./uk.js":268,"./ur":269,"./ur.js":269,"./uz":270,"./uz.js":270,"./vai":271,"./vai.js":271,"./ve":272,"./ve.js":272,"./vi":273,"./vi.js":273,"./vo":274,"./vo.js":274,"./vun":275,"./vun.js":275,"./wa":276,"./wa.js":276,"./wae":277,"./wae.js":277,"./wo":278,"./wo.js":278,"./xh":279,"./xh.js":279,"./xog":280,"./xog.js":280,"./yav":281,"./yav.js":281,"./yi":282,"./yi.js":282,"./yo":283,"./yo.js":283,"./yue":284,"./yue.js":284,"./zgh":285,"./zgh.js":285,"./zh":286,"./zh.js":286,"./zu":287,"./zu.js":287};function n(e){var s=r(e);return t(s)}function r(e){var s=a[e];if(!(s+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id=42}},[[293,1,2]]]);
//# sourceMappingURL=main.9116032c.chunk.js.map